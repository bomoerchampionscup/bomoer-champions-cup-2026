<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOMOER CHAMPIONS CUP 2026 - Pendaftaran Resmi</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET & VARIABLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gold: #FFD700;
            --primary-gold-light: #FFE55C;
            --primary-gold-dark: #DAA520;
            --primary-black: #0A0C0F;
            --primary-dark: #12141A;
            --secondary-dark: #1A1E2A;
            --accent-green: #00FF88;
            --text-white: #FFFFFF;
            --text-gray: #A0A0A0;
        }

        body {
            background: var(--primary-black);
            font-family: 'Montserrat', sans-serif;
            color: var(--text-white);
            line-height: 1.6;
        }

        /* Background */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(255,215,0,0.1) 0%, transparent 30%),
                        radial-gradient(circle at 80% 70%, rgba(0,255,136,0.05) 0%, transparent 30%);
            z-index: 0;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 10;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 48px;
            font-weight: 900;
            background: linear-gradient(135deg, #FFD700, #FFFFFF, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            color: var(--text-gray);
            letter-spacing: 2px;
        }

        /* Info Cards */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .info-card {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
        }

        .info-card i {
            font-size: 40px;
            color: var(--primary-gold);
            margin-bottom: 15px;
        }

        .info-card h3 {
            color: var(--primary-gold);
            font-size: 18px;
            margin-bottom: 10px;
        }

        .info-card .value {
            font-size: 24px;
            font-weight: 800;
        }

        /* Countdown */
        .countdown-section {
            background: linear-gradient(145deg, #12141A, #1A1E2A);
            border-radius: 40px;
            padding: 50px;
            margin: 50px 0;
            border: 2px solid var(--primary-gold);
            text-align: center;
        }

        .countdown-title {
            color: var(--primary-gold);
            font-size: 28px;
            font-weight: 800;
            letter-spacing: 3px;
            margin-bottom: 20px;
        }

        .countdown-date {
            font-size: 60px;
            font-weight: 900;
            color: white;
            margin-bottom: 30px;
        }

        .timer {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .timer-block {
            background: rgba(0,0,0,0.3);
            border: 2px solid var(--primary-gold);
            border-radius: 20px;
            padding: 20px;
            min-width: 120px;
        }

        .timer-number {
            font-size: 50px;
            font-weight: 900;
            color: var(--primary-gold);
        }

        .timer-label {
            color: white;
            font-size: 14px;
            letter-spacing: 2px;
        }

        /* Form */
        .form-section {
            background: rgba(255,255,255,0.02);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 40px;
            padding: 50px;
            margin: 50px 0;
        }

        .form-title {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .form-title h2 {
            font-size: 36px;
            font-weight: 900;
            color: var(--primary-gold);
        }

        .secure-badge {
            background: rgba(0,255,136,0.1);
            border: 2px solid var(--accent-green);
            padding: 10px 25px;
            border-radius: 50px;
            color: var(--accent-green);
            font-weight: 700;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full-width {
            grid-column: span 2;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary-gold);
            font-weight: 600;
        }

        .form-group label i {
            margin-right: 8px;
        }

        .form-control {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 30px;
            font-size: 16px;
            color: white;
            transition: all 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary-gold);
            box-shadow: 0 0 30px rgba(255,215,0,0.2);
            outline: none;
        }

        select.form-control {
            cursor: pointer;
        }

        select.form-control option {
            background: var(--primary-dark);
            color: white;
        }

        /* Bank Cards */
        .bank-section {
            margin: 40px 0;
        }

        .bank-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .bank-card {
            background: rgba(255,255,255,0.03);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .bank-card:hover {
            border-color: var(--primary-gold);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255,215,0,0.2);
        }

        .bank-logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: 900;
            color: black;
        }

        .bank-card h4 {
            color: var(--primary-gold);
            margin-bottom: 5px;
        }

        /* Bank Info Panel */
        .bank-info-panel {
            background: rgba(255,215,0,0.1);
            border: 3px solid var(--primary-gold);
            border-radius: 30px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }

        .bank-info-panel h3 {
            color: var(--primary-gold);
            font-size: 32px;
            margin-bottom: 20px;
        }

        .bank-detail {
            font-size: 24px;
            color: white;
            margin: 15px 0;
        }

        .bank-detail strong {
            color: var(--primary-gold);
            font-size: 28px;
        }

        #bank-qr {
            width: 200px;
            height: 200px;
            border: 3px solid var(--primary-gold);
            border-radius: 20px;
            padding: 10px;
            background: white;
            margin: 20px auto;
        }

        /* Button */
        .btn-primary {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #0A0C0F;
            border: none;
            padding: 20px 40px;
            font-size: 24px;
            font-weight: 900;
            border-radius: 60px;
            cursor: pointer;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 2px;
            border: 3px solid white;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255,215,0,0.4);
        }

        .btn-wa {
            background: #25D366;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 60px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .btn-wa:hover {
            background: #128C7E;
            transform: scale(1.05);
        }

        /* Success Message */
        .success-message {
            background: linear-gradient(145deg, #12141A, #1A1E2A);
            border: 4px solid var(--primary-gold);
            border-radius: 60px;
            padding: 60px;
            text-align: center;
            margin: 40px 0;
        }

        /* Utility */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .info-grid,
            .bank-grid,
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .form-group.full-width {
                grid-column: span 1;
            }
            
            .countdown-date {
                font-size: 36px;
            }
            
            .timer-block {
                min-width: 70px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>⚽ BOMOER CHAMPIONS CUP 2026 ⚽</h1>
            <p>OFFICIAL REGISTRATION PORTAL</p>
        </div>

        <!-- Info Cards -->
        <div class="info-grid">
            <div class="info-card">
                <i class="fas fa-calendar-alt"></i>
                <h3>TANGGAL</h3>
                <div class="value">22-25 MARET</div>
                <div>2026</div>
            </div>
            <div class="info-card">
                <i class="fas fa-clock"></i>
                <h3>WAKTU</h3>
                <div class="value">08.00 - Selesai</div>
                <div>WIB</div>
            </div>
            <div class="info-card">
                <i class="fas fa-map-marker-alt"></i>
                <h3>LOKASI</h3>
                <div class="value">Lapangan BOMOER</div>
                <div>Dusun Karangsari</div>
            </div>
            <div class="info-card">
                <i class="fas fa-wallet"></i>
                <h3>BIAYA</h3>
                <div class="value">Rp 800.000</div>
                <div>DP 50% (Rp 400rb)</div>
            </div>
        </div>

        <!-- Countdown -->
        <div class="countdown-section" id="countdownSection">
            <div class="countdown-title">⏰ BATAS AKHIR PENDAFTARAN ⏰</div>
            <div class="countdown-date">MINGGU, 15 MARET 2026</div>
            <div class="countdown-date" style="font-size: 40px;">PUKUL 17:00 WIB</div>
            
            <div class="timer" id="timer">
                <div class="timer-block">
                    <div class="timer-number" id="days">00</div>
                    <div class="timer-label">HARI</div>
                </div>
                <div class="timer-block">
                    <div class="timer-number" id="hours">00</div>
                    <div class="timer-label">JAM</div>
                </div>
                <div class="timer-block">
                    <div class="timer-number" id="minutes">00</div>
                    <div class="timer-label">MENIT</div>
                </div>
                <div class="timer-block">
                    <div class="timer-number" id="seconds">00</div>
                    <div class="timer-label">DETIK</div>
                </div>
            </div>
        </div>

        <!-- Form Pendaftaran -->
        <div class="form-section" id="formPendaftaran">
            <div class="form-title">
                <h2><i class="fas fa-edit"></i> FORM PENDAFTARAN</h2>
                <div class="secure-badge">
                    <i class="fas fa-lock"></i> Data Terenkripsi
                </div>
            </div>

            <form id="registrationForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label><i class="fas fa-users"></i> Nama Tim/Klub *</label>
                        <input type="text" class="form-control" id="teamName" placeholder="Contoh: BOMOER FC" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-map-pin"></i> Asal Daerah *</label>
                        <input type="text" class="form-control" id="origin" placeholder="Contoh: Cilacap / Banyumas" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-user-tie"></i> Penanggung Jawab *</label>
                        <input type="text" class="form-control" id="picName" placeholder="Nama lengkap sesuai KTP" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-briefcase"></i> Jabatan *</label>
                        <select class="form-control" id="position" required>
                            <option value="" disabled selected>Pilih Jabatan</option>
                            <option value="Manager">Manager</option>
                            <option value="Pelatih">Pelatih</option>
                            <option value="Kapten">Kapten</option>
                            <option value="Official">Official</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fab fa-whatsapp"></i> No WhatsApp *</label>
                        <input type="tel" class="form-control" id="phone" placeholder="Contoh: 08123456789" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" class="form-control" id="email" placeholder="contoh@email.com">
                    </div>
                    
                    <div class="form-group full-width">
                        <label><i class="fas fa-home"></i> Alamat Lengkap *</label>
                        <textarea class="form-control" id="address" rows="3" placeholder="Alamat sesuai KTP" required></textarea>
                    </div>
                    
                    <div class="form-group full-width">
                        <label><i class="fas fa-id-card"></i> Upload KTP Penanggung Jawab *</label>
                        <input type="file" class="form-control" id="ktpFile" accept=".jpg,.jpeg,.png,.pdf" required>
                    </div>
                </div>

                <!-- Checkbox Persetujuan -->
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; background: rgba(255,255,255,0.02); padding: 30px; border-radius: 30px; margin: 30px 0;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="agree1" required style="width: 20px; height: 20px; accent-color: #FFD700;">
                        <label for="agree1">Mematuhi peraturan</label>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="agree2" required style="width: 20px; height: 20px; accent-color: #FFD700;">
                        <label for="agree2">Fair play</label>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="agree3" required style="width: 20px; height: 20px; accent-color: #FFD700;">
                        <label for="agree3">Tanggung jawab supporter</label>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="agree4" required style="width: 20px; height: 20px; accent-color: #FFD700;">
                        <label for="agree4">Siap terima sanksi</label>
                    </div>
                </div>

                <button type="submit" class="btn-primary">
                    <i class="fas fa-paper-plane"></i> DAFTAR SEKARANG
                </button>
            </form>
        </div>

        <!-- Payment Section (Awalnya Hidden) -->
        <div id="paymentSection" class="form-section hidden">
            <div class="form-title" style="justify-content: center;">
                <h2><i class="fas fa-credit-card"></i> INFORMASI PEMBAYARAN</h2>
            </div>
            
            <div class="text-center" style="margin: 30px 0;">
                <div style="font-size: 70px; font-weight: 900; color: #FFD700;">Rp 400.000</div>
                <div style="font-size: 20px;">DP Minimal 50% (Total Rp 800.000)</div>
            </div>

            <!-- Bank Cards -->
            <div class="bank-section">
                <h3 style="color: #FFD700; text-align: center; margin-bottom: 30px;">PILIH BANK UNTUK MELIHAT REKENING</h3>
                <div class="bank-grid">
                    <div class="bank-card" onclick="showBankInfo('bca')">
                        <div class="bank-logo" style="background: #0066AE; color: white;">BCA</div>
                        <h4>BANK BCA</h4>
                    </div>
                    <div class="bank-card" onclick="showBankInfo('bri')">
                        <div class="bank-logo" style="background: #00529C; color: white;">BRI</div>
                        <h4>BANK BRI</h4>
                    </div>
                    <div class="bank-card" onclick="showBankInfo('mandiri')">
                        <div class="bank-logo" style="background: #00843D; color: white;">MANDIRI</div>
                        <h4>BANK MANDIRI</h4>
                    </div>
                    <div class="bank-card" onclick="showBankInfo('bsi')">
                        <div class="bank-logo" style="background: #7F2B7B; color: white;">BSI</div>
                        <h4>BANK BSI</h4>
                    </div>
                    <div class="bank-card" onclick="showBankInfo('lain')">
                        <div class="bank-logo" style="background: #FFD700; color: black;">LAIN</div>
                        <h4>BANK LAINNYA</h4>
                    </div>
                </div>
            </div>

            <!-- Bank Info Panel (Akan muncul setelah klik bank) -->
            <div id="bankInfoPanel" class="bank-info-panel hidden">
                <h3 id="bankName">BANK BCA</h3>
                <div class="bank-detail">
                    <p>No Rekening: <strong id="bankAccount">1234567890</strong></p>
                    <p>A/N: <strong id="bankHolder">Panitia BCC 2026</strong></p>
                </div>
                <img id="bankQr" src="" alt="QR Code">
                <p style="color: #FFD700; margin-top: 15px;">Scan QR untuk transfer cepat</p>
                <button onclick="closeBankPanel()" style="margin-top: 20px; padding: 10px 30px; background: #FFD700; border: none; border-radius: 30px; font-weight: bold; cursor: pointer;">Tutup</button>
            </div>

            <!-- Form Bukti Transfer -->
            <div class="form-grid" style="margin-top: 40px;">
                <div class="form-group">
                    <label><i class="fas fa-file-invoice"></i> Upload Bukti Transfer *</label>
                    <input type="file" class="form-control" id="paymentProof" accept=".jpg,.jpeg,.png,.pdf" required>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-money-bill-wave"></i> Nominal Transfer *</label>
                    <input type="number" class="form-control" id="transferAmount" min="400000" placeholder="Contoh: 400000" required>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Nama Pengirim *</label>
                    <input type="text" class="form-control" id="senderName" placeholder="Nama sesuai rekening" required>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-university"></i> Bank Asal *</label>
                    <select class="form-control" id="senderBank" required>
                        <option value="" disabled selected>Pilih Bank</option>
                        <option value="BCA">BCA</option>
                        <option value="BRI">BRI</option>
                        <option value="Mandiri">Mandiri</option>
                        <option value="BSI">BSI</option>
                        <option value="BNI">BNI</option>
                        <option value="Lainnya">Bank Lainnya</option>
                    </select>
                </div>
            </div>

            <button onclick="submitRegistration()" class="btn-primary" style="margin: 30px 0;">
                <i class="fas fa-check-circle"></i> KIRIM PENDAFTARAN
            </button>

            <!-- Tombol WhatsApp -->
            <div style="background: rgba(255,215,0,0.1); border-radius: 40px; padding: 40px; text-align: center; margin-top: 40px;">
                <h3 style="color: #FFD700; margin-bottom: 30px; font-size: 28px;">
                    <i class="fab fa-whatsapp"></i> KONFIRMASI VIA WHATSAPP
                </h3>
                <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                    <button class="btn-wa" id="waAsep">
                        <i class="fab fa-whatsapp"></i> Asep (0813-2154-2594)
                    </button>
                    <button class="btn-wa" id="waAbdul">
                        <i class="fab fa-whatsapp"></i> Abdul (0812-8351-6212)
                    </button>
                </div>
                <p style="color: #FFD700; margin-top: 20px;">Klik tombol di atas untuk langsung chat via WhatsApp</p>
            </div>
        </div>

        <!-- Result Section -->
        <div id="result"></div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 60px; padding: 40px; border-top: 1px solid rgba(255,215,0,0.2);">
            <p style="color: #FFD700; font-size: 20px;">© 2026 BOMOER CHAMPIONS CUP - PANITIA TURNAMEN</p>
            <p style="color: gray;">Dusun Karangsari, Desa Karangsari, Kec. Cimanggu, Kab. Cilacap</p>
        </div>
    </div>

    <script>
        // ============================================
        // DATA BANK
        // ============================================
        const bankData = {
            bca: {
                name: "BANK BCA",
                account: "1234567890",
                holder: "Panitia BCC 2026 (Asep Nurhakim)",
                qr: "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=BCA%3A1234567890%3Aa.n%20Panitia%20BCC%202026"
            },
            bri: {
                name: "BANK BRI",
                account: "0987654321",
                holder: "Panitia BCC 2026 (Abdul Gopar)",
                qr: "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=BRI%3A0987654321%3Aa.n%20Panitia%20BCC%202026"
            },
            mandiri: {
                name: "BANK MANDIRI",
                account: "1122334455",
                holder: "Panitia BCC 2026",
                qr: "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=MANDIRI%3A1122334455%3Aa.n%20Panitia%20BCC%202026"
            },
            bsi: {
                name: "BANK BSI",
                account: "5566778899",
                holder: "Panitia BCC 2026",
                qr: "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=BSI%3A5566778899%3Aa.n%20Panitia%20BCC%202026"
            },
            lain: {
                name: "BANK LAINNYA",
                account: "Hubungi Panitia",
                holder: "Asep / Abdul",
                qr: "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Hubungi%20Panitia%20via%20WA"
            }
        };

        // ============================================
        // COUNTDOWN TIMER
        // ============================================
        function updateCountdown() {
            const deadline = new Date('March 15, 2026 17:00:00 GMT+7').getTime();
            const now = new Date().getTime();
            const distance = deadline - now;

            if (distance < 0) {
                document.getElementById('timer').innerHTML = '<h3 style="color: #FFD700;">PENDAFTARAN TELAH DITUTUP</h3>';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
        }

        setInterval(updateCountdown, 1000);

        // ============================================
        // FUNGSI BANK INFO
        // ============================================
        function showBankInfo(bankKey) {
            const bank = bankData[bankKey];
            if (!bank) return;

            document.getElementById('bankName').textContent = bank.name;
            document.getElementById('bankAccount').textContent = bank.account;
            document.getElementById('bankHolder').textContent = bank.holder;
            document.getElementById('bankQr').src = bank.qr;
            document.getElementById('bankInfoPanel').classList.remove('hidden');
        }

        function closeBankPanel() {
            document.getElementById('bankInfoPanel').classList.add('hidden');
        }

        // ============================================
        // FUNGSI WHATSAPP
        // ============================================
        function openWhatsApp(phone, message) {
            // Hapus semua karakter non-angka
            const cleanPhone = phone.replace(/[^0-9]/g, '');
            // Pastikan format 62 (Indonesia)
            const formattedPhone = cleanPhone.startsWith('62') ? cleanPhone : '62' + cleanPhone.slice(1);
            // Encode pesan
            const encodedMessage = encodeURIComponent(message);
            // Buka WhatsApp
            window.open(`https://wa.me/${formattedPhone}?text=${encodedMessage}`, '_blank');
        }

        // ============================================
        // HANDLE FORM SUBMIT (Langkah 1)
        // ============================================
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Validasi sederhana
            if (!document.getElementById('agree1').checked || !document.getElementById('agree2').checked || 
                !document.getElementById('agree3').checked || !document.getElementById('agree4').checked) {
                alert('Harap centang semua persetujuan!');
                return;
            }

            // Simpan data ke session storage
            const formData = {
                teamName: document.getElementById('teamName').value,
                origin: document.getElementById('origin').value,
                picName: document.getElementById('picName').value,
                position: document.getElementById('position').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                address: document.getElementById('address').value,
                registrationCode: 'BCC-' + Math.random().toString(36).substr(2, 9).toUpperCase() + '-2026'
            };

            sessionStorage.setItem('pendingRegistration', JSON.stringify(formData));

            // Sembunyikan form, tampilkan payment
            document.getElementById('formPendaftaran').classList.add('hidden');
            document.getElementById('paymentSection').classList.remove('hidden');
            
            // Scroll ke payment section
            document.getElementById('paymentSection').scrollIntoView({ behavior: 'smooth' });
        });

        // ============================================
        // SUBMIT FINAL (Langkah 2) + KIRIM KE GOOGLE SHEETS
        // ============================================
        function submitRegistration() {
            // Validasi file
            const paymentProof = document.getElementById('paymentProof').files[0];
            if (!paymentProof) {
                alert('Harap upload bukti transfer!');
                return;
            }

            // Validasi nominal
            const transferAmount = document.getElementById('transferAmount').value;
            if (transferAmount < 400000) {
                alert('Minimal transfer adalah Rp 400.000!');
                return;
            }

            // Ambil data dari session
            const formData = JSON.parse(sessionStorage.getItem('pendingRegistration'));
            
            if (!formData) {
                alert('Data tidak ditemukan. Silakan daftar ulang.');
                return;
            }

            // Data lengkap
            const completeData = {
                ...formData,
                timestamp: new Date().toLocaleString('id-ID', { timeZone: 'Asia/Jakarta' }),
                transferAmount: transferAmount,
                senderName: document.getElementById('senderName').value,
                senderBank: document.getElementById('senderBank').value,
                paymentStatus: 'Menunggu Verifikasi'
            };

            // ========================================
            // KIRIM KE GOOGLE SHEETS VIA APPS SCRIPT
            // ========================================
            // GANTI URL INI DENGAN URL APPS SCRIPT ANDA!
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzWDdCtHkuXlfMp66H0oiS7itlx3mQmoZLBuAYCQpvWvJMAZd1aGQiRyGMb0O2nNRgd/exec';
            
            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors', // Penting untuk Apps Script
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(completeData)
            })
            .then(() => {
                console.log('Data terkirim ke Google Sheets');
            })
            .catch(error => {
                console.error('Gagal kirim:', error);
                // Data tetap aman di localStorage
            });

            // Simpan ke localStorage sebagai backup
            let registrations = JSON.parse(localStorage.getItem('bccRegistrations') || '[]');
            registrations.push(completeData);
            localStorage.setItem('bccRegistrations', JSON.stringify(registrations));

            // Tampilkan pesan sukses
            document.getElementById('paymentSection').classList.add('hidden');
            
            document.getElementById('result').innerHTML = `
                <div class="success-message">
                    <i class="fas fa-check-circle" style="font-size: 100px; color: #00FF88; margin-bottom: 30px;"></i>
                    <h2 style="color: #FFD700; font-size: 48px; margin-bottom: 20px;">PENDAFTARAN BERHASIL!</h2>
                    <div style="background: rgba(255,215,0,0.1); padding: 30px; border-radius: 30px; margin: 30px 0;">
                        <p style="font-size: 32px; font-weight: 900; color: #FFD700;">${completeData.registrationCode}</p>
                        <p style="color: white;">Simpan kode ini untuk konfirmasi</p>
                    </div>
                    <p style="color: white; font-size: 20px;">Terima kasih ${completeData.teamName}!</p>
                    <p style="color: #FFD700; margin-top: 30px;">Silakan konfirmasi via WhatsApp dengan klik tombol di bawah:</p>
                    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
                        <button class="btn-wa" onclick="openWhatsApp('081321542594', 'Halo kak Asep, saya dari tim ${completeData.teamName} (Kode: ${completeData.registrationCode}) ingin konfirmasi pendaftaran.')">
                            <i class="fab fa-whatsapp"></i> Konfirmasi ke Asep
                        </button>
                        <button class="btn-wa" onclick="openWhatsApp('081283516212', 'Halo kak Abdul, saya dari tim ${completeData.teamName} (Kode: ${completeData.registrationCode}) ingin konfirmasi pendaftaran.')">
                            <i class="fab fa-whatsapp"></i> Konfirmasi ke Abdul
                        </button>
                    </div>
                </div>
            `;

            // Hapus dari session
            sessionStorage.removeItem('pendingRegistration');
            
            // Scroll ke result
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }

        // ============================================
        // EVENT LISTENER UNTUK TOMBOL WA
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            // Tombol WA di payment section
            document.getElementById('waAsep')?.addEventListener('click', function() {
                const teamName = document.getElementById('teamName')?.value || 'calon peserta';
                const regCode = sessionStorage.getItem('pendingRegistration') ? 
                    JSON.parse(sessionStorage.getItem('pendingRegistration')).registrationCode : '';
                
                openWhatsApp('081321542594', `Halo kak Asep, saya dari tim *${teamName}* (Kode: ${regCode}) ingin konfirmasi pendaftaran.`);
            });

            document.getElementById('waAbdul')?.addEventListener('click', function() {
                const teamName = document.getElementById('teamName')?.value || 'calon peserta';
                const regCode = sessionStorage.getItem('pendingRegistration') ? 
                    JSON.parse(sessionStorage.getItem('pendingRegistration')).registrationCode : '';
                
                openWhatsApp('081283516212', `Halo kak Abdul, saya dari tim *${teamName}* (Kode: ${regCode}) ingin konfirmasi pendaftaran.`);
            });
        });
    </script>
</body>
</html>